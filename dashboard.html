<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to your CSS file -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <img src="DIVINE CARE.png" alt="Logo">
        </div>
        <div class="nav-menu">
            <ul>
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>

        <!-- User Profile Dropdown -->
        <div class="user-profile">
            <button class="profile-btn" id="userBtn">Hello, <span id="userName">User</span></button>
            <ul class="dropdown-menu" id="dropdownMenu">
                <li><a href="account-settings.html">Account Settings</a></li>
                <li><button id="logoutBtn">Log Out</button></li>
            </ul>
        </div>
    </div>

    <!-- Hero Section -->
    <div class="hero">
        <h1>Welcome to Your Dashboard</h1>
        <p>Manage your account, view your services, and much more.</p>
    </div>

    <!-- Other sections like services, etc. -->

    <script src="firebase-config.js"></script> <!-- Link to your Firebase config -->
    <script>
        // Firebase initialization
        const firebaseConfig = {
            apiKey: "your-api-key",
            authDomain: "your-auth-domain",
            projectId: "your-project-id",
            storageBucket: "your-storage-bucket",
            messagingSenderId: "your-sender-id",
            appId: "your-app-id"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Elements for user data
        const userBtn = document.getElementById('userBtn');
        const userName = document.getElementById('userName');
        const dropdownMenu = document.getElementById('dropdownMenu');
        const logoutBtn = document.getElementById('logoutBtn');

        // Check if user is logged in
        firebase.auth().onAuthStateChanged(user => {
            if (user) {
                // Display user's name in the button
                userName.textContent = user.displayName || user.email;

                // Toggle dropdown menu visibility
                userBtn.addEventListener('click', () => {
                    dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
                });

                // Log out functionality
                logoutBtn.addEventListener('click', () => {
                    auth.signOut().then(() => {
                        // Redirect to main page after log out
                        window.location.href = 'index.html';
                    }).catch(error => {
                        console.error('Error signing out: ', error);
                    });
                });
            } else {
                // If no user is logged in, redirect to login page
                window.location.href = 'login.html';
            }
        });
    </script>
</body>
</html>
